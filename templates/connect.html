<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

</head>
<body>
<section class="jumbotron text-center">
    <div class="container">
      <h1 class="jumbotron-heading">Наше классное приложение</h1>
      <p class="lead text-muted">Для защищенного соединения между узлами сети</p>
    </div>
  </section>
<div>
<div style="margin-left: 37%; margin-top: 2%">
    <p>Размер ключа aes</p>
<select class="form-select" style="width: 100px" id="">
    <option value="">128</option>
    <option value="">192</option>
    <option value="">256</option>
</select>
</div>
<div style="margin-left: 56%;margin-top: -5.5%">
    <p>Размер ключа rsa</p>
<select class="form-select" style="width: 100px" id="">
    <option value="">512</option>
    <option value="">1024</option>
    <option value="">2048</option>
</select>
</div>
</div>
<div style="display:flex;justify-content:center;align-items:center; margin-top: 3%">
    <button type="button" class="btn btn-primary">Подключиться к серверу</button>
</div>
<form class="form-inline" style="margin-left: 33.5%; margin-top: 12%">
    <div class="form-group mx-sm-3 mb-2">
        <p style="font-size: large; margin-left: 8.7%"> Введите ваше сообщение серверу</p>
        <input type="text" style="width: 400px; margin-left: 2.5%" class="form-control" id="inputPassword2" placeholder="Ваше сообщение">
        <button type="button"  class="btn btn-primary mb-2" id="button" style="margin-left: 18%; margin-top:1%">Отправить</button>

    </div>
    <div id="normal"></div>

</form>
<script type="text/javascript" >
class PublicKey{
    constructor(n,e){
        this.n = n;
        this.e = e;
    }
}
let public_key = PublicKey;
public_key.n=3;
public_key.e=5;

function encrypt(msg, public_key){
	    if (msg<0||msg>=public_key.n){
		throw "Bad msg";}
	    return Math.pow(msg, public_key.e)%public_key.n;
        }

$("#button").click (function() {
 	  var msg   = $('#inputPassword2').val();


       console.log(msg);

        $.ajax({
            type: 'GET',
            url: '/api/mirror/'+msg,
          success: function(rMsg) {
              console.log("success");
            addRow();
          },
          error: function (jqXHR, exception) {
            console.log(jqXHR);
            console.log(exception);
        }
        });


    });

function addRow() {

    const div = document.createElement('div');
    div.className = 'row';

    div.innerHTML = `
    <p id="message"></p>
    <p id="message2" style = "margin-left: 15%; margin-top: -4.2%"></p>
    <p id="message3" style = "margin-left: 30%; margin-top: -4.2%"></p>
    <p id="message4" style = "margin-left: 45%; margin-top: -4.2%"></p>
    `;
    div.getElementById('message').html(rMsg);
    div.getElementById('message2').html(rMsg);
    div.getElementById('message3').html(rMsg);
    div.getElementById('message4').html(rMsg);
    document.getElementById('content').appendChild(div);

}

</script>
</body>
</html>